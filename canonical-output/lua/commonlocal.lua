-- Common Localizations
-- Code written by Daniel Oaks, this file is released into the public domain.
-- The localizations are licensed under the MIT License, from http://goo.gl/fhnw1t
base_language_info = {}
base_language_info["ar"] = {}
base_language_info["ar"]["error"] = ''
base_language_info["ar"]["error.missing"] = ''
base_language_info["ar"]["error.na"] = ''
base_language_info["ar"]["error.na.in"] = ''
base_language_info["ar"]["error.na.in\long"] = ''
base_language_info["ar"]["error.na\long"] = ''
base_language_info["ar"]["lang"] = ''
base_language_info["ar"]["lang.change"] = ''
base_language_info["ar"]["lang.choose"] = ''
base_language_info["ar"]["lang.current"] = ''
base_language_info["ar"]["name"] = 'اللغة العربية'
base_language_info["ar"]["name.english"] = 'Arabic'
base_language_info["bg"] = {}
base_language_info["bg"]["error"] = 'Грешка с езика'
base_language_info["bg"]["error.missing"] = 'Липсва превод'
base_language_info["bg"]["error.na"] = 'Недостъпен език'
base_language_info["bg"]["error.na.in"] = 'Не се предлага на $1'
base_language_info["bg"]["error.na.in\long"] = 'Играта не се предлага на $1'
base_language_info["bg"]["error.na\long"] = 'Избраният език е недостъпен'
base_language_info["bg"]["lang"] = 'Език'
base_language_info["bg"]["lang.change"] = 'Променете езика'
base_language_info["bg"]["lang.choose"] = 'Изберете език'
base_language_info["bg"]["lang.current"] = 'Настоящ език'
base_language_info["bg"]["name"] = 'Български'
base_language_info["bg"]["name.english"] = 'Bulgarian'
base_language_info["de"] = {}
base_language_info["de"]["error"] = 'Sprachfehler'
base_language_info["de"]["error.missing"] = 'Fehlende Übersetzung'
base_language_info["de"]["error.na"] = 'Sprache nicht verfügbar'
base_language_info["de"]["error.na.in"] = 'Nicht verfügbar auf $1.'
base_language_info["de"]["error.na.in\long"] = 'Das Spiel ist auf $1 nicht verfügbar'
base_language_info["de"]["error.na\long"] = 'Die ausgewählte Sprache ist nicht verfügbar.'
base_language_info["de"]["lang"] = 'Sprache'
base_language_info["de"]["lang.change"] = 'Sprache ändern'
base_language_info["de"]["lang.choose"] = 'Sprache auswählen'
base_language_info["de"]["lang.current"] = 'Derzeitige Sprache'
base_language_info["de"]["name"] = 'Deutsch'
base_language_info["de"]["name.english"] = 'German'
base_language_info["el"] = {}
base_language_info["el"]["error"] = 'Σφάλμα γλώσσας'
base_language_info["el"]["error.missing"] = ''
base_language_info["el"]["error.na"] = ''
base_language_info["el"]["error.na.in"] = ''
base_language_info["el"]["error.na.in\long"] = ''
base_language_info["el"]["error.na\long"] = 'Η επιλεγμένη γλώσσα δεν είναι διαθέσιμη'
base_language_info["el"]["lang"] = 'Γλώσσα'
base_language_info["el"]["lang.change"] = 'Αλλαγή γλώσσας'
base_language_info["el"]["lang.choose"] = 'Επιλογή γλώσσας'
base_language_info["el"]["lang.current"] = 'Τρέχον γλώσσα'
base_language_info["el"]["name"] = 'Ελληνικά'
base_language_info["el"]["name.english"] = 'Greek'
base_language_info["en"] = {}
base_language_info["en"]["error"] = 'Language error'
base_language_info["en"]["error.missing"] = 'Missing translation'
base_language_info["en"]["error.na"] = 'Language unavailable'
base_language_info["en"]["error.na.in"] = 'Not available in $1'
base_language_info["en"]["error.na.in\long"] = 'The game is not available in $1'
base_language_info["en"]["error.na\long"] = 'The selected language is unavailable'
base_language_info["en"]["lang"] = 'Language'
base_language_info["en"]["lang.change"] = 'Change the language'
base_language_info["en"]["lang.choose"] = 'Choose a language'
base_language_info["en"]["lang.current"] = 'Current language'
base_language_info["en"]["name"] = 'English'
base_language_info["en"]["name.english"] = 'English'
base_language_info["eo"] = {}
base_language_info["eo"]["error"] = ''
base_language_info["eo"]["error.missing"] = ''
base_language_info["eo"]["error.na"] = ''
base_language_info["eo"]["error.na.in"] = ''
base_language_info["eo"]["error.na.in\long"] = ''
base_language_info["eo"]["error.na\long"] = ''
base_language_info["eo"]["lang"] = 'Lingvo'
base_language_info["eo"]["lang.change"] = ''
base_language_info["eo"]["lang.choose"] = ''
base_language_info["eo"]["lang.current"] = ''
base_language_info["eo"]["name"] = 'Esperanto'
base_language_info["eo"]["name.english"] = 'Esperanto'
base_language_info["es"] = {}
base_language_info["es"]["error"] = 'Error de Idioma'
base_language_info["es"]["error.missing"] = 'Tradducción no encontrada'
base_language_info["es"]["error.na"] = 'Idioma no disponible'
base_language_info["es"]["error.na.in"] = 'No disponible en $1'
base_language_info["es"]["error.na.in\long"] = 'Este juego no está disponible en $1'
base_language_info["es"]["error.na\long"] = 'Este idioma no esta disponible'
base_language_info["es"]["lang"] = 'Idioma'
base_language_info["es"]["lang.change"] = 'Cambiar idioma'
base_language_info["es"]["lang.choose"] = 'Elegir Idioma'
base_language_info["es"]["lang.current"] = 'Idioma actual'
base_language_info["es"]["name"] = 'Español'
base_language_info["es"]["name.english"] = 'Spanish'
base_language_info["fi"] = {}
base_language_info["fi"]["error"] = 'Kielivirhe'
base_language_info["fi"]["error.missing"] = ''
base_language_info["fi"]["error.na"] = ''
base_language_info["fi"]["error.na.in"] = ''
base_language_info["fi"]["error.na.in\long"] = 'Tätä peliä ei ole saatavilla $1'
base_language_info["fi"]["error.na\long"] = 'Valittu kieli ei ole saatavilla'
base_language_info["fi"]["lang"] = 'Kieli'
base_language_info["fi"]["lang.change"] = 'Vaihda kieli'
base_language_info["fi"]["lang.choose"] = 'Valitse kieli'
base_language_info["fi"]["lang.current"] = 'Valittu kieli'
base_language_info["fi"]["name"] = 'Suomi'
base_language_info["fi"]["name.english"] = 'Finnish'
base_language_info["fr"] = {}
base_language_info["fr"]["error"] = 'Erreur de langue'
base_language_info["fr"]["error.missing"] = ''
base_language_info["fr"]["error.na"] = ''
base_language_info["fr"]["error.na.in"] = ''
base_language_info["fr"]["error.na.in\long"] = "Ce jeu n'est pas disponible en $1"
base_language_info["fr"]["error.na\long"] = "Cette langue n'est pas disponible"
base_language_info["fr"]["lang"] = 'Langue'
base_language_info["fr"]["lang.change"] = 'Changer la langue'
base_language_info["fr"]["lang.choose"] = 'Choisir la langue'
base_language_info["fr"]["lang.current"] = 'Langue actuelle'
base_language_info["fr"]["name"] = 'Français'
base_language_info["fr"]["name.english"] = 'French'
base_language_info["he"] = {}
base_language_info["he"]["error"] = ''
base_language_info["he"]["error.missing"] = ''
base_language_info["he"]["error.na"] = ''
base_language_info["he"]["error.na.in"] = ''
base_language_info["he"]["error.na.in\long"] = ''
base_language_info["he"]["error.na\long"] = ''
base_language_info["he"]["lang"] = ''
base_language_info["he"]["lang.change"] = ''
base_language_info["he"]["lang.choose"] = ''
base_language_info["he"]["lang.current"] = ''
base_language_info["he"]["name"] = 'עברית'
base_language_info["he"]["name.english"] = 'Hebrew'
base_language_info["hi"] = {}
base_language_info["hi"]["error"] = ''
base_language_info["hi"]["error.missing"] = ''
base_language_info["hi"]["error.na"] = ''
base_language_info["hi"]["error.na.in"] = ''
base_language_info["hi"]["error.na.in\long"] = ''
base_language_info["hi"]["error.na\long"] = ''
base_language_info["hi"]["lang"] = ''
base_language_info["hi"]["lang.change"] = ''
base_language_info["hi"]["lang.choose"] = ''
base_language_info["hi"]["lang.current"] = ''
base_language_info["hi"]["name"] = 'हिन्दी'
base_language_info["hi"]["name.english"] = 'Hindi'
base_language_info["hu"] = {}
base_language_info["hu"]["error"] = 'Nyelvi hiba'
base_language_info["hu"]["error.missing"] = 'Hiányzó fordítás'
base_language_info["hu"]["error.na"] = 'Nyelv nem elérhető'
base_language_info["hu"]["error.na.in"] = '$1 nem elérhető'
base_language_info["hu"]["error.na.in\long"] = 'A(z) $1 nyelv nem támogatott.'
base_language_info["hu"]["error.na\long"] = 'A választott nyelv nem elérhető'
base_language_info["hu"]["lang"] = 'Nyelv'
base_language_info["hu"]["lang.change"] = 'Nyelv módosítása'
base_language_info["hu"]["lang.choose"] = 'Válassz egy nyelvet'
base_language_info["hu"]["lang.current"] = 'Jelenlegi nyelv'
base_language_info["hu"]["name"] = 'Magyar'
base_language_info["hu"]["name.english"] = 'Hungarian'
base_language_info["it"] = {}
base_language_info["it"]["error"] = 'Errore di lingua'
base_language_info["it"]["error.missing"] = 'Traduzione mancante'
base_language_info["it"]["error.na"] = 'Lingua non disponibile'
base_language_info["it"]["error.na.in"] = 'Non disponibile in $1'
base_language_info["it"]["error.na.in\long"] = 'Questo gioco non è dosponibile in $1'
base_language_info["it"]["error.na\long"] = 'La lingua selezionata non è disponibile'
base_language_info["it"]["lang"] = 'Lingua'
base_language_info["it"]["lang.change"] = 'Cambia lingua'
base_language_info["it"]["lang.choose"] = 'Scegli la lingua'
base_language_info["it"]["lang.current"] = 'Lingua attuale'
base_language_info["it"]["name"] = 'Italiano'
base_language_info["it"]["name.english"] = 'Italian'
base_language_info["ja"] = {}
base_language_info["ja"]["error"] = ''
base_language_info["ja"]["error.missing"] = ''
base_language_info["ja"]["error.na"] = ''
base_language_info["ja"]["error.na.in"] = ''
base_language_info["ja"]["error.na.in\long"] = ''
base_language_info["ja"]["error.na\long"] = ''
base_language_info["ja"]["lang"] = '言語'
base_language_info["ja"]["lang.change"] = ''
base_language_info["ja"]["lang.choose"] = '言語を選択'
base_language_info["ja"]["lang.current"] = ''
base_language_info["ja"]["name"] = '日本語'
base_language_info["ja"]["name.english"] = 'Japanese'
base_language_info["ko"] = {}
base_language_info["ko"]["error"] = ''
base_language_info["ko"]["error.missing"] = ''
base_language_info["ko"]["error.na"] = ''
base_language_info["ko"]["error.na.in"] = ''
base_language_info["ko"]["error.na.in\long"] = ''
base_language_info["ko"]["error.na\long"] = ''
base_language_info["ko"]["lang"] = '언어'
base_language_info["ko"]["lang.change"] = ''
base_language_info["ko"]["lang.choose"] = '언어 선택'
base_language_info["ko"]["lang.current"] = ''
base_language_info["ko"]["name"] = ''
base_language_info["ko"]["name.english"] = 'Korean'
base_language_info["la"] = {}
base_language_info["la"]["error"] = ''
base_language_info["la"]["error.missing"] = ''
base_language_info["la"]["error.na"] = ''
base_language_info["la"]["error.na.in"] = ''
base_language_info["la"]["error.na.in\long"] = ''
base_language_info["la"]["error.na\long"] = ''
base_language_info["la"]["lang"] = 'Lingua'
base_language_info["la"]["lang.change"] = ''
base_language_info["la"]["lang.choose"] = ''
base_language_info["la"]["lang.current"] = ''
base_language_info["la"]["name"] = 'Latine'
base_language_info["la"]["name.english"] = 'Latin'
base_language_info["nl"] = {}
base_language_info["nl"]["error"] = ''
base_language_info["nl"]["error.missing"] = 'Missende vertaling'
base_language_info["nl"]["error.na"] = 'Taal niet beschikbaar'
base_language_info["nl"]["error.na.in"] = 'Niet beschikbaar in $1'
base_language_info["nl"]["error.na.in\long"] = ''
base_language_info["nl"]["error.na\long"] = 'De geselecteerde taal is niet beschikbaar'
base_language_info["nl"]["lang"] = 'Taal'
base_language_info["nl"]["lang.change"] = 'Taal wijzigen'
base_language_info["nl"]["lang.choose"] = 'Kies een taal'
base_language_info["nl"]["lang.current"] = 'Huidige taal'
base_language_info["nl"]["name"] = 'Nederlands'
base_language_info["nl"]["name.english"] = 'Dutch'
base_language_info["pl"] = {}
base_language_info["pl"]["error"] = 'Wystąpił błąd z wybranym językiem'
base_language_info["pl"]["error.missing"] = ''
base_language_info["pl"]["error.na"] = ''
base_language_info["pl"]["error.na.in"] = ''
base_language_info["pl"]["error.na.in\long"] = ''
base_language_info["pl"]["error.na\long"] = 'Wybrany język jest niedostępny'
base_language_info["pl"]["lang"] = 'Język'
base_language_info["pl"]["lang.change"] = 'Zmień język'
base_language_info["pl"]["lang.choose"] = 'Wybierz język'
base_language_info["pl"]["lang.current"] = 'Aktualny język'
base_language_info["pl"]["name"] = 'Polski'
base_language_info["pl"]["name.english"] = 'Polish'
base_language_info["pt"] = {}
base_language_info["pt"]["error"] = ''
base_language_info["pt"]["error.missing"] = ''
base_language_info["pt"]["error.na"] = ''
base_language_info["pt"]["error.na.in"] = ''
base_language_info["pt"]["error.na.in\long"] = ''
base_language_info["pt"]["error.na\long"] = ''
base_language_info["pt"]["lang"] = 'Linguagem'
base_language_info["pt"]["lang.change"] = ''
base_language_info["pt"]["lang.choose"] = 'Escolhe linguagem'
base_language_info["pt"]["lang.current"] = ''
base_language_info["pt"]["name"] = 'Português'
base_language_info["pt"]["name.english"] = 'Portuguese'
base_language_info["pt_br"] = {}
base_language_info["pt_br"]["error"] = 'Erro de idioma'
base_language_info["pt_br"]["error.missing"] = 'Tradução em falta'
base_language_info["pt_br"]["error.na"] = 'Idioma não disponível'
base_language_info["pt_br"]["error.na.in"] = 'Não disponível em $1'
base_language_info["pt_br"]["error.na.in\long"] = 'Este jogo não está disponível em $1'
base_language_info["pt_br"]["error.na\long"] = 'O idioma selecionado está indiponível'
base_language_info["pt_br"]["lang"] = 'Idioma'
base_language_info["pt_br"]["lang.change"] = 'Alterar Idioma'
base_language_info["pt_br"]["lang.choose"] = 'Escolha um idioma'
base_language_info["pt_br"]["lang.current"] = 'Idioma Atual'
base_language_info["pt_br"]["name"] = 'Português Brasileiro'
base_language_info["pt_br"]["name.english"] = 'Brazilian Portuguese'
base_language_info["ru"] = {}
base_language_info["ru"]["error"] = 'Ошибка языка'
base_language_info["ru"]["error.missing"] = 'Перевод отсутствует'
base_language_info["ru"]["error.na"] = 'Язык недоступен'
base_language_info["ru"]["error.na.in"] = 'Недоступно на $1'
base_language_info["ru"]["error.na.in\long"] = 'Эта игра недоступна на $1'
base_language_info["ru"]["error.na\long"] = 'Выбранный язык недоступен'
base_language_info["ru"]["lang"] = 'Язык'
base_language_info["ru"]["lang.change"] = 'Изменить язык'
base_language_info["ru"]["lang.choose"] = 'Выберите язык'
base_language_info["ru"]["lang.current"] = 'Текущий язык'
base_language_info["ru"]["name"] = 'Русский'
base_language_info["ru"]["name.english"] = 'Russian'
base_language_info["sv"] = {}
base_language_info["sv"]["error"] = 'Språk fel'
base_language_info["sv"]["error.missing"] = 'Översättning fattas'
base_language_info["sv"]["error.na"] = 'Språk ej tillgängligt'
base_language_info["sv"]["error.na.in"] = 'Ej tillgängligt i $1'
base_language_info["sv"]["error.na.in\long"] = 'Spelet är ej tillgängligt i $1'
base_language_info["sv"]["error.na\long"] = 'Det valda språket är int tillgängligt'
base_language_info["sv"]["lang"] = 'Språk'
base_language_info["sv"]["lang.change"] = 'Ändra språk'
base_language_info["sv"]["lang.choose"] = 'Välj språk'
base_language_info["sv"]["lang.current"] = 'Valt språk'
base_language_info["sv"]["name"] = 'Svenska'
base_language_info["sv"]["name.english"] = 'Swedish'
base_language_info["th"] = {}
base_language_info["th"]["error"] = ''
base_language_info["th"]["error.missing"] = ''
base_language_info["th"]["error.na"] = ''
base_language_info["th"]["error.na.in"] = ''
base_language_info["th"]["error.na.in\long"] = ''
base_language_info["th"]["error.na\long"] = ''
base_language_info["th"]["lang"] = ''
base_language_info["th"]["lang.change"] = ''
base_language_info["th"]["lang.choose"] = ''
base_language_info["th"]["lang.current"] = ''
base_language_info["th"]["name"] = 'ภาษาไทย'
base_language_info["th"]["name.english"] = 'Thai'
base_language_info["tr"] = {}
base_language_info["tr"]["error"] = 'Dil hatası'
base_language_info["tr"]["error.missing"] = ''
base_language_info["tr"]["error.na"] = ''
base_language_info["tr"]["error.na.in"] = ''
base_language_info["tr"]["error.na.in\long"] = "Bu oyun $1'de uygun değil"
base_language_info["tr"]["error.na\long"] = 'Bu dil uygun değil'
base_language_info["tr"]["lang"] = 'Dil'
base_language_info["tr"]["lang.change"] = 'Dil değiştir'
base_language_info["tr"]["lang.choose"] = 'Dil seç'
base_language_info["tr"]["lang.current"] = 'Şu anki dil'
base_language_info["tr"]["name"] = 'Türkçe'
base_language_info["tr"]["name.english"] = 'Turkish'
base_language_info["uk"] = {}
base_language_info["uk"]["error"] = 'Помилка перекладу'
base_language_info["uk"]["error.missing"] = 'Переклад відсутній'
base_language_info["uk"]["error.na"] = 'Мова недоступна'
base_language_info["uk"]["error.na.in"] = 'Недоступно мовою $1'
base_language_info["uk"]["error.na.in\long"] = 'Цю гру наразі не перекладено мовою $1'
base_language_info["uk"]["error.na\long"] = 'Обраний переклад недоступний'
base_language_info["uk"]["lang"] = 'Мова'
base_language_info["uk"]["lang.change"] = 'Змінити мову'
base_language_info["uk"]["lang.choose"] = 'Оберіть мову'
base_language_info["uk"]["lang.current"] = 'Поточна мова'
base_language_info["uk"]["name"] = 'Українська'
base_language_info["uk"]["name.english"] = 'Ukrainian'
base_language_info["zh"] = {}
base_language_info["zh"]["error"] = '语言错误'
base_language_info["zh"]["error.missing"] = ''
base_language_info["zh"]["error.na"] = ''
base_language_info["zh"]["error.na.in"] = ''
base_language_info["zh"]["error.na.in\long"] = '本游戏目前无法以$1运行'
base_language_info["zh"]["error.na\long"] = '选择的语言尚未翻译'
base_language_info["zh"]["lang"] = '语言'
base_language_info["zh"]["lang.change"] = '更改语言'
base_language_info["zh"]["lang.choose"] = '选择语言'
base_language_info["zh"]["lang.current"] = '当前语言'
base_language_info["zh"]["name"] = '简体中文'
base_language_info["zh"]["name.english"] = 'Simplified Chinese'


local CommonLocal = {}
CommonLocal.__index = CommonLocal

-- hack to let us relative import lib in current folder
-- from http://stackoverflow.com/questions/9145432/load-lua-files-by-relative-path
local folderOfThisFile = (...):match('(.-)[^%.]+$')
local folderLanguages = folderOfThisFile .. 'languages.'
local fsFolderOfThisFile = folderOfThisFile:gsub('%.', '/')


function CommonLocal.new(defaultLanguage)
    local self = setmetatable({}, CommonLocal)

    self.languageList = {'en', 'ar', 'bg', 'de', 'el', 'es', 'fi', 'fr', 'he', 'hi', 'hu', 'it', 'ja', 'ko', 'la', 'nl', 'pl', 'pt', 'pt_br', 'ru', 'sv', 'th', 'tr', 'uk', 'zh', 'eo'}
    self.defaultLanguage = defaultLanguage or 'en'
    self.currentLanguage = ''
    self.strings = {}

    self:setLanguage(self.defaultLanguage)

    return self
end

function CommonLocal:setLanguage(language)
    self.currentLanguage = language or self.defaultLanguage

    self.strings = require(folderLanguages .. self.currentLanguage)
end

function CommonLocal:get(section, key, ...)
    line = self.strings[section][key]
    if line == '' or line == nil then
        line = self.strings['lang']['error.missing']
        if line == '' or line == nil then
            return 'Missing translation'
        else
            return line
        end
    else
        local arg={...}
        return line:gsub('$(%d+)', function(i) return arg[tonumber(i)] end)
    end
end
-- if self.strings[section] ~= nil then
--     if self.strings[section][key] ~= nil then
--         return self.strings[section][key]
--     else
--         return ''
-- else
--     return ''
-- end

return CommonLocal
